{"ast":null,"code":"import { lights } from '../../nodes/Nodes.js';\nfunction painterSortStable(a, b) {\n  if (a.groupOrder !== b.groupOrder) {\n    return a.groupOrder - b.groupOrder;\n  } else if (a.renderOrder !== b.renderOrder) {\n    return a.renderOrder - b.renderOrder;\n  } else if (a.material.id !== b.material.id) {\n    return a.material.id - b.material.id;\n  } else if (a.z !== b.z) {\n    return a.z - b.z;\n  } else {\n    return a.id - b.id;\n  }\n}\nfunction reversePainterSortStable(a, b) {\n  if (a.groupOrder !== b.groupOrder) {\n    return a.groupOrder - b.groupOrder;\n  } else if (a.renderOrder !== b.renderOrder) {\n    return a.renderOrder - b.renderOrder;\n  } else if (a.z !== b.z) {\n    return b.z - a.z;\n  } else {\n    return a.id - b.id;\n  }\n}\nclass RenderList {\n  constructor() {\n    this.renderItems = [];\n    this.renderItemsIndex = 0;\n    this.opaque = [];\n    this.transparent = [];\n    this.lightsNode = lights([]);\n    this.lightsArray = [];\n  }\n  init() {\n    this.renderItemsIndex = 0;\n    this.opaque.length = 0;\n    this.transparent.length = 0;\n    this.lightsArray.length = 0;\n    return this;\n  }\n  getNextRenderItem(object, geometry, material, groupOrder, z, group) {\n    let renderItem = this.renderItems[this.renderItemsIndex];\n    if (renderItem === undefined) {\n      renderItem = {\n        id: object.id,\n        object: object,\n        geometry: geometry,\n        material: material,\n        groupOrder: groupOrder,\n        renderOrder: object.renderOrder,\n        z: z,\n        group: group\n      };\n      this.renderItems[this.renderItemsIndex] = renderItem;\n    } else {\n      renderItem.id = object.id;\n      renderItem.object = object;\n      renderItem.geometry = geometry;\n      renderItem.material = material;\n      renderItem.groupOrder = groupOrder;\n      renderItem.renderOrder = object.renderOrder;\n      renderItem.z = z;\n      renderItem.group = group;\n    }\n    this.renderItemsIndex++;\n    return renderItem;\n  }\n  push(object, geometry, material, groupOrder, z, group) {\n    const renderItem = this.getNextRenderItem(object, geometry, material, groupOrder, z, group);\n    (material.transparent === true ? this.transparent : this.opaque).push(renderItem);\n  }\n  unshift(object, geometry, material, groupOrder, z, group) {\n    const renderItem = this.getNextRenderItem(object, geometry, material, groupOrder, z, group);\n    (material.transparent === true ? this.transparent : this.opaque).unshift(renderItem);\n  }\n  pushLight(light) {\n    this.lightsArray.push(light);\n  }\n  getLightsNode() {\n    return this.lightsNode.fromLights(this.lightsArray);\n  }\n  sort(customOpaqueSort, customTransparentSort) {\n    if (this.opaque.length > 1) this.opaque.sort(customOpaqueSort || painterSortStable);\n    if (this.transparent.length > 1) this.transparent.sort(customTransparentSort || reversePainterSortStable);\n  }\n  finish() {\n    // update lights\n\n    this.lightsNode.fromLights(this.lightsArray);\n\n    // Clear references from inactive renderItems in the list\n\n    for (let i = this.renderItemsIndex, il = this.renderItems.length; i < il; i++) {\n      const renderItem = this.renderItems[i];\n      if (renderItem.id === null) break;\n      renderItem.id = null;\n      renderItem.object = null;\n      renderItem.geometry = null;\n      renderItem.material = null;\n      renderItem.program = null;\n      renderItem.group = null;\n    }\n  }\n}\nexport default RenderList;","map":{"version":3,"names":["lights","painterSortStable","a","b","groupOrder","renderOrder","material","id","z","reversePainterSortStable","RenderList","constructor","renderItems","renderItemsIndex","opaque","transparent","lightsNode","lightsArray","init","length","getNextRenderItem","object","geometry","group","renderItem","undefined","push","unshift","pushLight","light","getLightsNode","fromLights","sort","customOpaqueSort","customTransparentSort","finish","i","il","program"],"sources":["C:/Users/LENOVO/Desktop/reactjsProject/drillit/node_modules/three/examples/jsm/renderers/common/RenderList.js"],"sourcesContent":["import { lights } from '../../nodes/Nodes.js';\r\n\r\nfunction painterSortStable( a, b ) {\r\n\r\n\tif ( a.groupOrder !== b.groupOrder ) {\r\n\r\n\t\treturn a.groupOrder - b.groupOrder;\r\n\r\n\t} else if ( a.renderOrder !== b.renderOrder ) {\r\n\r\n\t\treturn a.renderOrder - b.renderOrder;\r\n\r\n\t} else if ( a.material.id !== b.material.id ) {\r\n\r\n\t\treturn a.material.id - b.material.id;\r\n\r\n\t} else if ( a.z !== b.z ) {\r\n\r\n\t\treturn a.z - b.z;\r\n\r\n\t} else {\r\n\r\n\t\treturn a.id - b.id;\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction reversePainterSortStable( a, b ) {\r\n\r\n\tif ( a.groupOrder !== b.groupOrder ) {\r\n\r\n\t\treturn a.groupOrder - b.groupOrder;\r\n\r\n\t} else if ( a.renderOrder !== b.renderOrder ) {\r\n\r\n\t\treturn a.renderOrder - b.renderOrder;\r\n\r\n\t} else if ( a.z !== b.z ) {\r\n\r\n\t\treturn b.z - a.z;\r\n\r\n\t} else {\r\n\r\n\t\treturn a.id - b.id;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass RenderList {\r\n\r\n\tconstructor() {\r\n\r\n\t\tthis.renderItems = [];\r\n\t\tthis.renderItemsIndex = 0;\r\n\r\n\t\tthis.opaque = [];\r\n\t\tthis.transparent = [];\r\n\r\n\t\tthis.lightsNode = lights( [] );\r\n\t\tthis.lightsArray = [];\r\n\r\n\t}\r\n\r\n\tinit() {\r\n\r\n\t\tthis.renderItemsIndex = 0;\r\n\r\n\t\tthis.opaque.length = 0;\r\n\t\tthis.transparent.length = 0;\r\n\t\tthis.lightsArray.length = 0;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetNextRenderItem( object, geometry, material, groupOrder, z, group ) {\r\n\r\n\t\tlet renderItem = this.renderItems[ this.renderItemsIndex ];\r\n\r\n\t\tif ( renderItem === undefined ) {\r\n\r\n\t\t\trenderItem = {\r\n\t\t\t\tid: object.id,\r\n\t\t\t\tobject: object,\r\n\t\t\t\tgeometry: geometry,\r\n\t\t\t\tmaterial: material,\r\n\t\t\t\tgroupOrder: groupOrder,\r\n\t\t\t\trenderOrder: object.renderOrder,\r\n\t\t\t\tz: z,\r\n\t\t\t\tgroup: group\r\n\t\t\t};\r\n\r\n\t\t\tthis.renderItems[ this.renderItemsIndex ] = renderItem;\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderItem.id = object.id;\r\n\t\t\trenderItem.object = object;\r\n\t\t\trenderItem.geometry = geometry;\r\n\t\t\trenderItem.material = material;\r\n\t\t\trenderItem.groupOrder = groupOrder;\r\n\t\t\trenderItem.renderOrder = object.renderOrder;\r\n\t\t\trenderItem.z = z;\r\n\t\t\trenderItem.group = group;\r\n\r\n\t\t}\r\n\r\n\t\tthis.renderItemsIndex ++;\r\n\r\n\t\treturn renderItem;\r\n\r\n\t}\r\n\r\n\tpush( object, geometry, material, groupOrder, z, group ) {\r\n\r\n\t\tconst renderItem = this.getNextRenderItem( object, geometry, material, groupOrder, z, group );\r\n\r\n\t\t( material.transparent === true ? this.transparent : this.opaque ).push( renderItem );\r\n\r\n\t}\r\n\r\n\tunshift( object, geometry, material, groupOrder, z, group ) {\r\n\r\n\t\tconst renderItem = this.getNextRenderItem( object, geometry, material, groupOrder, z, group );\r\n\r\n\t\t( material.transparent === true ? this.transparent : this.opaque ).unshift( renderItem );\r\n\r\n\t}\r\n\r\n\tpushLight( light ) {\r\n\r\n\t\tthis.lightsArray.push( light );\r\n\r\n\t}\r\n\r\n\tgetLightsNode() {\r\n\r\n\t\treturn this.lightsNode.fromLights( this.lightsArray );\r\n\r\n\t}\r\n\r\n\tsort( customOpaqueSort, customTransparentSort ) {\r\n\r\n\t\tif ( this.opaque.length > 1 ) this.opaque.sort( customOpaqueSort || painterSortStable );\r\n\t\tif ( this.transparent.length > 1 ) this.transparent.sort( customTransparentSort || reversePainterSortStable );\r\n\r\n\t}\r\n\r\n\tfinish() {\r\n\r\n\t\t// update lights\r\n\r\n\t\tthis.lightsNode.fromLights( this.lightsArray );\r\n\r\n\t\t// Clear references from inactive renderItems in the list\r\n\r\n\t\tfor ( let i = this.renderItemsIndex, il = this.renderItems.length; i < il; i ++ ) {\r\n\r\n\t\t\tconst renderItem = this.renderItems[ i ];\r\n\r\n\t\t\tif ( renderItem.id === null ) break;\r\n\r\n\t\t\trenderItem.id = null;\r\n\t\t\trenderItem.object = null;\r\n\t\t\trenderItem.geometry = null;\r\n\t\t\trenderItem.material = null;\r\n\t\t\trenderItem.program = null;\r\n\t\t\trenderItem.group = null;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport default RenderList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}