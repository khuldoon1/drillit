{"ast":null,"code":"import Node, { addNodeClass } from './Node.js';\nimport { assign } from '../math/OperatorNode.js';\nimport { bypass } from '../core/BypassNode.js';\nimport { expression } from '../code/ExpressionNode.js';\nimport { cond } from '../math/CondNode.js';\nimport { loop } from '../utils/LoopNode.js';\nimport { nodeProxy, shader } from '../shadernode/ShaderNode.js';\nclass StackNode extends Node {\n  constructor() {\n    let parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    super();\n    this.nodes = [];\n    this.outputNode = null;\n    this.parent = parent;\n    this._currentCond = null;\n    this.isStackNode = true;\n  }\n  getNodeType(builder) {\n    return this.outputNode ? this.outputNode.getNodeType(builder) : 'void';\n  }\n  add(node) {\n    this.nodes.push(bypass(expression(), node));\n    return this;\n  }\n  if(boolNode, method) {\n    const methodNode = shader(method);\n    this._currentCond = cond(boolNode, methodNode);\n    return this.add(this._currentCond);\n  }\n  elseif(boolNode, method) {\n    const methodNode = shader(method);\n    const ifNode = cond(boolNode, methodNode);\n    this._currentCond.elseNode = ifNode;\n    this._currentCond = ifNode;\n    return this;\n  }\n  else(method) {\n    this._currentCond.elseNode = shader(method);\n    return this;\n  }\n  assign(targetNode, sourceValue) {\n    return this.add(assign(targetNode, sourceValue));\n  }\n  loop() {\n    return this.add(loop(...arguments));\n  }\n  build(builder) {\n    for (const node of this.nodes) {\n      node.build(builder);\n    }\n    for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      params[_key - 1] = arguments[_key];\n    }\n    return this.outputNode ? this.outputNode.build(builder, ...params) : super.build(builder, ...params);\n  }\n}\nexport default StackNode;\nexport const stack = nodeProxy(StackNode);\naddNodeClass(StackNode);","map":{"version":3,"names":["Node","addNodeClass","assign","bypass","expression","cond","loop","nodeProxy","shader","StackNode","constructor","parent","arguments","length","undefined","nodes","outputNode","_currentCond","isStackNode","getNodeType","builder","add","node","push","if","boolNode","method","methodNode","elseif","ifNode","elseNode","else","targetNode","sourceValue","build","_len","params","Array","_key","stack"],"sources":["C:/Users/LENOVO/Desktop/reactjsProject/drillit/node_modules/three/examples/jsm/nodes/core/StackNode.js"],"sourcesContent":["import Node, { addNodeClass } from './Node.js';\r\nimport { assign } from '../math/OperatorNode.js';\r\nimport { bypass } from '../core/BypassNode.js';\r\nimport { expression } from '../code/ExpressionNode.js';\r\nimport { cond } from '../math/CondNode.js';\r\nimport { loop } from '../utils/LoopNode.js';\r\nimport { nodeProxy, shader } from '../shadernode/ShaderNode.js';\r\n\r\nclass StackNode extends Node {\r\n\r\n\tconstructor( parent = null ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.nodes = [];\r\n\t\tthis.outputNode = null;\r\n\r\n\t\tthis.parent = parent;\r\n\r\n\t\tthis._currentCond = null;\r\n\r\n\t\tthis.isStackNode = true;\r\n\r\n\t}\r\n\r\n\tgetNodeType( builder ) {\r\n\r\n\t\treturn this.outputNode ? this.outputNode.getNodeType( builder ) : 'void';\r\n\r\n\t}\r\n\r\n\tadd( node ) {\r\n\r\n\t\tthis.nodes.push( bypass( expression(), node ) );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tif( boolNode, method ) {\r\n\r\n\t\tconst methodNode = shader( method );\r\n\t\tthis._currentCond = cond( boolNode, methodNode );\r\n\r\n\t\treturn this.add( this._currentCond );\r\n\r\n\t}\r\n\r\n\telseif( boolNode, method ) {\r\n\r\n\t\tconst methodNode = shader( method );\r\n\t\tconst ifNode = cond( boolNode, methodNode );\r\n\r\n\t\tthis._currentCond.elseNode = ifNode;\r\n\t\tthis._currentCond = ifNode;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\telse( method ) {\r\n\r\n\t\tthis._currentCond.elseNode = shader( method );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tassign( targetNode, sourceValue ) {\r\n\r\n\t\treturn this.add( assign( targetNode, sourceValue ) );\r\n\r\n\t}\r\n\r\n\tloop( ...params ) {\r\n\r\n\t\treturn this.add( loop( ...params ) );\r\n\r\n\t}\r\n\r\n\tbuild( builder, ...params ) {\r\n\r\n\t\tfor ( const node of this.nodes ) {\r\n\r\n\t\t\tnode.build( builder );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.outputNode ? this.outputNode.build( builder, ...params ) : super.build( builder, ...params );\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport default StackNode;\r\n\r\nexport const stack = nodeProxy( StackNode );\r\n\r\naddNodeClass( StackNode );\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}