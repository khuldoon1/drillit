{"ast":null,"code":"import Node, { addNodeClass } from './Node.js';\nimport { varying } from './VaryingNode.js';\nimport { nodeObject } from '../shadernode/ShaderNode.js';\nclass AttributeNode extends Node {\n  constructor(attributeName) {\n    let nodeType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    super(nodeType);\n    this._attributeName = attributeName;\n  }\n  getHash(builder) {\n    return this.getAttributeName(builder);\n  }\n  getNodeType(builder) {\n    const attributeName = this.getAttributeName(builder);\n    let nodeType = super.getNodeType(builder);\n    if (nodeType === null) {\n      if (builder.hasGeometryAttribute(attributeName)) {\n        const attribute = builder.geometry.getAttribute(attributeName);\n        nodeType = builder.getTypeFromAttribute(attribute);\n      } else {\n        nodeType = 'float';\n      }\n    }\n    return nodeType;\n  }\n  setAttributeName(attributeName) {\n    this._attributeName = attributeName;\n    return this;\n  }\n  getAttributeName( /*builder*/\n  ) {\n    return this._attributeName;\n  }\n  generate(builder) {\n    const attributeName = this.getAttributeName(builder);\n    const nodeType = this.getNodeType(builder);\n    const geometryAttribute = builder.hasGeometryAttribute(attributeName);\n    if (geometryAttribute === true) {\n      const attribute = builder.geometry.getAttribute(attributeName);\n      const attributeType = builder.getTypeFromAttribute(attribute);\n      const nodeAttribute = builder.getAttribute(attributeName, attributeType);\n      if (builder.shaderStage === 'vertex') {\n        return builder.format(nodeAttribute.name, attributeType, nodeType);\n      } else {\n        const nodeVarying = varying(this);\n        return nodeVarying.build(builder, nodeType);\n      }\n    } else {\n      console.warn(`AttributeNode: Attribute \"${attributeName}\" not found.`);\n      return builder.getConst(nodeType);\n    }\n  }\n}\nexport default AttributeNode;\nexport const attribute = (name, nodeType) => nodeObject(new AttributeNode(name, nodeType));\naddNodeClass(AttributeNode);","map":{"version":3,"names":["Node","addNodeClass","varying","nodeObject","AttributeNode","constructor","attributeName","nodeType","arguments","length","undefined","_attributeName","getHash","builder","getAttributeName","getNodeType","hasGeometryAttribute","attribute","geometry","getAttribute","getTypeFromAttribute","setAttributeName","generate","geometryAttribute","attributeType","nodeAttribute","shaderStage","format","name","nodeVarying","build","console","warn","getConst"],"sources":["C:/Users/LENOVO/Desktop/reactjsProject/drillit/node_modules/three/examples/jsm/nodes/core/AttributeNode.js"],"sourcesContent":["import Node, { addNodeClass } from './Node.js';\r\nimport { varying } from './VaryingNode.js';\r\nimport { nodeObject } from '../shadernode/ShaderNode.js';\r\n\r\nclass AttributeNode extends Node {\r\n\r\n\tconstructor( attributeName, nodeType = null ) {\r\n\r\n\t\tsuper( nodeType );\r\n\r\n\t\tthis._attributeName = attributeName;\r\n\r\n\t}\r\n\r\n\tgetHash( builder ) {\r\n\r\n\t\treturn this.getAttributeName( builder );\r\n\r\n\t}\r\n\r\n\tgetNodeType( builder ) {\r\n\r\n\t\tconst attributeName = this.getAttributeName( builder );\r\n\r\n\t\tlet nodeType = super.getNodeType( builder );\r\n\r\n\t\tif ( nodeType === null ) {\r\n\r\n\t\t\tif ( builder.hasGeometryAttribute( attributeName ) ) {\r\n\r\n\t\t\t\tconst attribute = builder.geometry.getAttribute( attributeName );\r\n\r\n\t\t\t\tnodeType = builder.getTypeFromAttribute( attribute );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tnodeType = 'float';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn nodeType;\r\n\r\n\t}\r\n\r\n\tsetAttributeName( attributeName ) {\r\n\r\n\t\tthis._attributeName = attributeName;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetAttributeName( /*builder*/ ) {\r\n\r\n\t\treturn this._attributeName;\r\n\r\n\t}\r\n\r\n\tgenerate( builder ) {\r\n\r\n\t\tconst attributeName = this.getAttributeName( builder );\r\n\t\tconst nodeType = this.getNodeType( builder );\r\n\t\tconst geometryAttribute = builder.hasGeometryAttribute( attributeName );\r\n\r\n\t\tif ( geometryAttribute === true ) {\r\n\r\n\t\t\tconst attribute = builder.geometry.getAttribute( attributeName );\r\n\t\t\tconst attributeType = builder.getTypeFromAttribute( attribute );\r\n\r\n\t\t\tconst nodeAttribute = builder.getAttribute( attributeName, attributeType );\r\n\r\n\t\t\tif ( builder.shaderStage === 'vertex' ) {\r\n\r\n\t\t\t\treturn builder.format( nodeAttribute.name, attributeType, nodeType );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconst nodeVarying = varying( this );\r\n\r\n\t\t\t\treturn nodeVarying.build( builder, nodeType );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( `AttributeNode: Attribute \"${ attributeName }\" not found.` );\r\n\r\n\t\t\treturn builder.getConst( nodeType );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport default AttributeNode;\r\n\r\nexport const attribute = ( name, nodeType ) => nodeObject( new AttributeNode( name, nodeType ) );\r\n\r\naddNodeClass( AttributeNode );\r\n"],"mappings":"AAAA,OAAOA,IAAI,IAAIC,YAAY,QAAQ,WAAW;AAC9C,SAASC,OAAO,QAAQ,kBAAkB;AAC1C,SAASC,UAAU,QAAQ,6BAA6B;AAExD,MAAMC,aAAa,SAASJ,IAAI,CAAC;EAEhCK,WAAWA,CAAEC,aAAa,EAAoB;IAAA,IAAlBC,QAAQ,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAE1C,KAAK,CAAED,QAAS,CAAC;IAEjB,IAAI,CAACI,cAAc,GAAGL,aAAa;EAEpC;EAEAM,OAAOA,CAAEC,OAAO,EAAG;IAElB,OAAO,IAAI,CAACC,gBAAgB,CAAED,OAAQ,CAAC;EAExC;EAEAE,WAAWA,CAAEF,OAAO,EAAG;IAEtB,MAAMP,aAAa,GAAG,IAAI,CAACQ,gBAAgB,CAAED,OAAQ,CAAC;IAEtD,IAAIN,QAAQ,GAAG,KAAK,CAACQ,WAAW,CAAEF,OAAQ,CAAC;IAE3C,IAAKN,QAAQ,KAAK,IAAI,EAAG;MAExB,IAAKM,OAAO,CAACG,oBAAoB,CAAEV,aAAc,CAAC,EAAG;QAEpD,MAAMW,SAAS,GAAGJ,OAAO,CAACK,QAAQ,CAACC,YAAY,CAAEb,aAAc,CAAC;QAEhEC,QAAQ,GAAGM,OAAO,CAACO,oBAAoB,CAAEH,SAAU,CAAC;MAErD,CAAC,MAAM;QAENV,QAAQ,GAAG,OAAO;MAEnB;IAED;IAEA,OAAOA,QAAQ;EAEhB;EAEAc,gBAAgBA,CAAEf,aAAa,EAAG;IAEjC,IAAI,CAACK,cAAc,GAAGL,aAAa;IAEnC,OAAO,IAAI;EAEZ;EAEAQ,gBAAgBA,CAAA,CAAE;EAAA,EAAc;IAE/B,OAAO,IAAI,CAACH,cAAc;EAE3B;EAEAW,QAAQA,CAAET,OAAO,EAAG;IAEnB,MAAMP,aAAa,GAAG,IAAI,CAACQ,gBAAgB,CAAED,OAAQ,CAAC;IACtD,MAAMN,QAAQ,GAAG,IAAI,CAACQ,WAAW,CAAEF,OAAQ,CAAC;IAC5C,MAAMU,iBAAiB,GAAGV,OAAO,CAACG,oBAAoB,CAAEV,aAAc,CAAC;IAEvE,IAAKiB,iBAAiB,KAAK,IAAI,EAAG;MAEjC,MAAMN,SAAS,GAAGJ,OAAO,CAACK,QAAQ,CAACC,YAAY,CAAEb,aAAc,CAAC;MAChE,MAAMkB,aAAa,GAAGX,OAAO,CAACO,oBAAoB,CAAEH,SAAU,CAAC;MAE/D,MAAMQ,aAAa,GAAGZ,OAAO,CAACM,YAAY,CAAEb,aAAa,EAAEkB,aAAc,CAAC;MAE1E,IAAKX,OAAO,CAACa,WAAW,KAAK,QAAQ,EAAG;QAEvC,OAAOb,OAAO,CAACc,MAAM,CAAEF,aAAa,CAACG,IAAI,EAAEJ,aAAa,EAAEjB,QAAS,CAAC;MAErE,CAAC,MAAM;QAEN,MAAMsB,WAAW,GAAG3B,OAAO,CAAE,IAAK,CAAC;QAEnC,OAAO2B,WAAW,CAACC,KAAK,CAAEjB,OAAO,EAAEN,QAAS,CAAC;MAE9C;IAED,CAAC,MAAM;MAENwB,OAAO,CAACC,IAAI,CAAG,6BAA6B1B,aAAe,cAAc,CAAC;MAE1E,OAAOO,OAAO,CAACoB,QAAQ,CAAE1B,QAAS,CAAC;IAEpC;EAED;AAED;AAEA,eAAeH,aAAa;AAE5B,OAAO,MAAMa,SAAS,GAAGA,CAAEW,IAAI,EAAErB,QAAQ,KAAMJ,UAAU,CAAE,IAAIC,aAAa,CAAEwB,IAAI,EAAErB,QAAS,CAAE,CAAC;AAEhGN,YAAY,CAAEG,aAAc,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}