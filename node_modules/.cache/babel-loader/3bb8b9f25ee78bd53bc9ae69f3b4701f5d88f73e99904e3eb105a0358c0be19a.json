{"ast":null,"code":"import F_Schlick from './F_Schlick.js';\nimport V_GGX_SmithCorrelated from './V_GGX_SmithCorrelated.js';\nimport D_GGX from './D_GGX.js';\nimport { transformedNormalView } from '../../accessors/NormalNode.js';\nimport { positionViewDirection } from '../../accessors/PositionNode.js';\nimport { ShaderNode } from '../../shadernode/ShaderNode.js';\n\n// GGX Distribution, Schlick Fresnel, GGX_SmithCorrelated Visibility\nconst BRDF_GGX = new ShaderNode(inputs => {\n  const {\n    lightDirection,\n    f0,\n    f90,\n    roughness\n  } = inputs;\n  const alpha = roughness.pow2(); // UE4's roughness\n\n  const halfDir = lightDirection.add(positionViewDirection).normalize();\n  const dotNL = transformedNormalView.dot(lightDirection).clamp();\n  const dotNV = transformedNormalView.dot(positionViewDirection).clamp();\n  const dotNH = transformedNormalView.dot(halfDir).clamp();\n  const dotVH = positionViewDirection.dot(halfDir).clamp();\n  const F = F_Schlick.call({\n    f0,\n    f90,\n    dotVH\n  });\n  const V = V_GGX_SmithCorrelated.call({\n    alpha,\n    dotNL,\n    dotNV\n  });\n  const D = D_GGX.call({\n    alpha,\n    dotNH\n  });\n  return F.mul(V).mul(D);\n}); // validated\n\nexport default BRDF_GGX;","map":{"version":3,"names":["F_Schlick","V_GGX_SmithCorrelated","D_GGX","transformedNormalView","positionViewDirection","ShaderNode","BRDF_GGX","inputs","lightDirection","f0","f90","roughness","alpha","pow2","halfDir","add","normalize","dotNL","dot","clamp","dotNV","dotNH","dotVH","F","call","V","D","mul"],"sources":["C:/Users/LENOVO/Desktop/reactjsProject/drillit/node_modules/three/examples/jsm/nodes/functions/BSDF/BRDF_GGX.js"],"sourcesContent":["import F_Schlick from './F_Schlick.js';\r\nimport V_GGX_SmithCorrelated from './V_GGX_SmithCorrelated.js';\r\nimport D_GGX from './D_GGX.js';\r\nimport { transformedNormalView } from '../../accessors/NormalNode.js';\r\nimport { positionViewDirection } from '../../accessors/PositionNode.js';\r\nimport { ShaderNode } from '../../shadernode/ShaderNode.js';\r\n\r\n// GGX Distribution, Schlick Fresnel, GGX_SmithCorrelated Visibility\r\nconst BRDF_GGX = new ShaderNode( ( inputs ) => {\r\n\r\n\tconst { lightDirection, f0, f90, roughness } = inputs;\r\n\r\n\tconst alpha = roughness.pow2(); // UE4's roughness\r\n\r\n\tconst halfDir = lightDirection.add( positionViewDirection ).normalize();\r\n\r\n\tconst dotNL = transformedNormalView.dot( lightDirection ).clamp();\r\n\tconst dotNV = transformedNormalView.dot( positionViewDirection ).clamp();\r\n\tconst dotNH = transformedNormalView.dot( halfDir ).clamp();\r\n\tconst dotVH = positionViewDirection.dot( halfDir ).clamp();\r\n\r\n\tconst F = F_Schlick.call( { f0, f90, dotVH } );\r\n\tconst V = V_GGX_SmithCorrelated.call( { alpha, dotNL, dotNV } );\r\n\tconst D = D_GGX.call( { alpha, dotNH } );\r\n\r\n\treturn F.mul( V ).mul( D );\r\n\r\n} ); // validated\r\n\r\nexport default BRDF_GGX;\r\n"],"mappings":"AAAA,OAAOA,SAAS,MAAM,gBAAgB;AACtC,OAAOC,qBAAqB,MAAM,4BAA4B;AAC9D,OAAOC,KAAK,MAAM,YAAY;AAC9B,SAASC,qBAAqB,QAAQ,+BAA+B;AACrE,SAASC,qBAAqB,QAAQ,iCAAiC;AACvE,SAASC,UAAU,QAAQ,gCAAgC;;AAE3D;AACA,MAAMC,QAAQ,GAAG,IAAID,UAAU,CAAIE,MAAM,IAAM;EAE9C,MAAM;IAAEC,cAAc;IAAEC,EAAE;IAAEC,GAAG;IAAEC;EAAU,CAAC,GAAGJ,MAAM;EAErD,MAAMK,KAAK,GAAGD,SAAS,CAACE,IAAI,CAAC,CAAC,CAAC,CAAC;;EAEhC,MAAMC,OAAO,GAAGN,cAAc,CAACO,GAAG,CAAEX,qBAAsB,CAAC,CAACY,SAAS,CAAC,CAAC;EAEvE,MAAMC,KAAK,GAAGd,qBAAqB,CAACe,GAAG,CAAEV,cAAe,CAAC,CAACW,KAAK,CAAC,CAAC;EACjE,MAAMC,KAAK,GAAGjB,qBAAqB,CAACe,GAAG,CAAEd,qBAAsB,CAAC,CAACe,KAAK,CAAC,CAAC;EACxE,MAAME,KAAK,GAAGlB,qBAAqB,CAACe,GAAG,CAAEJ,OAAQ,CAAC,CAACK,KAAK,CAAC,CAAC;EAC1D,MAAMG,KAAK,GAAGlB,qBAAqB,CAACc,GAAG,CAAEJ,OAAQ,CAAC,CAACK,KAAK,CAAC,CAAC;EAE1D,MAAMI,CAAC,GAAGvB,SAAS,CAACwB,IAAI,CAAE;IAAEf,EAAE;IAAEC,GAAG;IAAEY;EAAM,CAAE,CAAC;EAC9C,MAAMG,CAAC,GAAGxB,qBAAqB,CAACuB,IAAI,CAAE;IAAEZ,KAAK;IAAEK,KAAK;IAAEG;EAAM,CAAE,CAAC;EAC/D,MAAMM,CAAC,GAAGxB,KAAK,CAACsB,IAAI,CAAE;IAAEZ,KAAK;IAAES;EAAM,CAAE,CAAC;EAExC,OAAOE,CAAC,CAACI,GAAG,CAAEF,CAAE,CAAC,CAACE,GAAG,CAAED,CAAE,CAAC;AAE3B,CAAE,CAAC,CAAC,CAAC;;AAEL,eAAepB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}