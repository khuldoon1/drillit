{"ast":null,"code":"import { ShaderNode } from '../shadernode/ShaderNode.js';\nexport const getDistanceAttenuation = new ShaderNode(inputs => {\n  const {\n    lightDistance,\n    cutoffDistance,\n    decayExponent\n  } = inputs;\n\n  // based upon Frostbite 3 Moving to Physically-based Rendering\n  // page 32, equation 26: E[window1]\n  // https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n  const distanceFalloff = lightDistance.pow(decayExponent).max(0.01).reciprocal();\n  return cutoffDistance.greaterThan(0).cond(distanceFalloff.mul(lightDistance.div(cutoffDistance).pow4().oneMinus().clamp().pow2()), distanceFalloff);\n}); // validated","map":{"version":3,"names":["ShaderNode","getDistanceAttenuation","inputs","lightDistance","cutoffDistance","decayExponent","distanceFalloff","pow","max","reciprocal","greaterThan","cond","mul","div","pow4","oneMinus","clamp","pow2"],"sources":["C:/Users/LENOVO/Desktop/reactjsProject/drillit/node_modules/three/examples/jsm/nodes/lighting/LightUtils.js"],"sourcesContent":["import { ShaderNode } from '../shadernode/ShaderNode.js';\r\n\r\nexport const getDistanceAttenuation = new ShaderNode( ( inputs ) => {\r\n\r\n\tconst { lightDistance, cutoffDistance, decayExponent } = inputs;\r\n\r\n\t// based upon Frostbite 3 Moving to Physically-based Rendering\r\n\t// page 32, equation 26: E[window1]\r\n\t// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\r\n\tconst distanceFalloff = lightDistance.pow( decayExponent ).max( 0.01 ).reciprocal();\r\n\r\n\treturn cutoffDistance.greaterThan( 0 ).cond(\r\n\t\tdistanceFalloff.mul( lightDistance.div( cutoffDistance ).pow4().oneMinus().clamp().pow2() ),\r\n\t\tdistanceFalloff\r\n\t);\r\n\r\n} ); // validated\r\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,6BAA6B;AAExD,OAAO,MAAMC,sBAAsB,GAAG,IAAID,UAAU,CAAIE,MAAM,IAAM;EAEnE,MAAM;IAAEC,aAAa;IAAEC,cAAc;IAAEC;EAAc,CAAC,GAAGH,MAAM;;EAE/D;EACA;EACA;EACA,MAAMI,eAAe,GAAGH,aAAa,CAACI,GAAG,CAAEF,aAAc,CAAC,CAACG,GAAG,CAAE,IAAK,CAAC,CAACC,UAAU,CAAC,CAAC;EAEnF,OAAOL,cAAc,CAACM,WAAW,CAAE,CAAE,CAAC,CAACC,IAAI,CAC1CL,eAAe,CAACM,GAAG,CAAET,aAAa,CAACU,GAAG,CAAET,cAAe,CAAC,CAACU,IAAI,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAACC,IAAI,CAAC,CAAE,CAAC,EAC3FX,eACD,CAAC;AAEF,CAAE,CAAC,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}