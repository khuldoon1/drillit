{"ast":null,"code":"import { Color, Matrix3, Matrix4, Vector2, Vector3, Vector4 } from 'three';\nexport function getCacheKey(object) {\n  let cacheKey = '{';\n  if (object.isNode === true) {\n    cacheKey += `uuid:\"${object.uuid}\"`;\n  }\n  for (const {\n    property,\n    index,\n    childNode\n  } of getNodeChildren(object)) {\n    // @TODO: Think about implement NodeArray and NodeObject.\n\n    let childCacheKey = getCacheKey(childNode);\n    if (!childCacheKey.includes(',')) childCacheKey = childCacheKey.slice(childCacheKey.indexOf('\"'), childCacheKey.indexOf('}'));\n    cacheKey += `,${property}${index !== undefined ? '/' + index : ''}:${childCacheKey}`;\n  }\n  cacheKey += '}';\n  return cacheKey;\n}\nexport function getNodeChildren(node) {\n  let toJSON = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return function* () {\n    for (const property in node) {\n      // Ignore private properties.\n      if (property.startsWith('_') === true) continue;\n      const object = node[property];\n      if (Array.isArray(object) === true) {\n        for (let i = 0; i < object.length; i++) {\n          const child = object[i];\n          if (child && (child.isNode === true || toJSON && typeof child.toJSON === 'function')) {\n            yield {\n              property,\n              index: i,\n              childNode: child\n            };\n          }\n        }\n      } else if (object && object.isNode === true) {\n        yield {\n          property,\n          childNode: object\n        };\n      } else if (typeof object === 'object') {\n        for (const subProperty in object) {\n          const child = object[subProperty];\n          if (child && (child.isNode === true || toJSON && typeof child.toJSON === 'function')) {\n            yield {\n              property,\n              index: subProperty,\n              childNode: child\n            };\n          }\n        }\n      }\n    }\n  }();\n}\nexport function getValueType(value) {\n  if (value === undefined || value === null) return null;\n  const typeOf = typeof value;\n  if (value.isNode === true) {\n    return 'node';\n  } else if (typeOf === 'number') {\n    return 'float';\n  } else if (typeOf === 'boolean') {\n    return 'bool';\n  } else if (typeOf === 'string') {\n    return 'string';\n  } else if (typeOf === 'function') {\n    return 'shader';\n  } else if (value.isVector2 === true) {\n    return 'vec2';\n  } else if (value.isVector3 === true) {\n    return 'vec3';\n  } else if (value.isVector4 === true) {\n    return 'vec4';\n  } else if (value.isMatrix3 === true) {\n    return 'mat3';\n  } else if (value.isMatrix4 === true) {\n    return 'mat4';\n  } else if (value.isColor === true) {\n    return 'color';\n  } else if (value instanceof ArrayBuffer) {\n    return 'ArrayBuffer';\n  }\n  return null;\n}\nexport function getValueFromType(type) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n  const last4 = type ? type.slice(-4) : undefined;\n  if ((last4 === 'vec2' || last4 === 'vec3' || last4 === 'vec4') && params.length === 1) {\n    // ensure same behaviour as in NodeBuilder.format()\n\n    params = last4 === 'vec2' ? [params[0], params[0]] : [params[0], params[0], params[0]];\n  }\n  if (type === 'color') {\n    return new Color(...params);\n  } else if (last4 === 'vec2') {\n    return new Vector2(...params);\n  } else if (last4 === 'vec3') {\n    return new Vector3(...params);\n  } else if (last4 === 'vec4') {\n    return new Vector4(...params);\n  } else if (last4 === 'mat3') {\n    return new Matrix3(...params);\n  } else if (last4 === 'mat4') {\n    return new Matrix4(...params);\n  } else if (type === 'bool') {\n    return params[0] || false;\n  } else if (type === 'float' || type === 'int' || type === 'uint') {\n    return params[0] || 0;\n  } else if (type === 'string') {\n    return params[0] || '';\n  } else if (type === 'ArrayBuffer') {\n    return base64ToArrayBuffer(params[0]);\n  }\n  return null;\n}\nexport function arrayBufferToBase64(arrayBuffer) {\n  let chars = '';\n  const array = new Uint8Array(arrayBuffer);\n  for (let i = 0; i < array.length; i++) {\n    chars += String.fromCharCode(array[i]);\n  }\n  return btoa(chars);\n}\nexport function base64ToArrayBuffer(base64) {\n  return Uint8Array.from(atob(base64), c => c.charCodeAt(0)).buffer;\n}","map":{"version":3,"names":["Color","Matrix3","Matrix4","Vector2","Vector3","Vector4","getCacheKey","object","cacheKey","isNode","uuid","property","index","childNode","getNodeChildren","childCacheKey","includes","slice","indexOf","undefined","node","toJSON","arguments","length","startsWith","Array","isArray","i","child","subProperty","getValueType","value","typeOf","isVector2","isVector3","isVector4","isMatrix3","isMatrix4","isColor","ArrayBuffer","getValueFromType","type","_len","params","_key","last4","base64ToArrayBuffer","arrayBufferToBase64","arrayBuffer","chars","array","Uint8Array","String","fromCharCode","btoa","base64","from","atob","c","charCodeAt","buffer"],"sources":["C:/Users/LENOVO/Desktop/reactjsProject/drillit/node_modules/three/examples/jsm/nodes/core/NodeUtils.js"],"sourcesContent":["import { Color, Matrix3, Matrix4, Vector2, Vector3, Vector4 } from 'three';\r\n\r\nexport function getCacheKey( object ) {\r\n\r\n\tlet cacheKey = '{';\r\n\r\n\tif ( object.isNode === true ) {\r\n\r\n\t\tcacheKey += `uuid:\"${ object.uuid }\"`;\r\n\r\n\t}\r\n\r\n\tfor ( const { property, index, childNode } of getNodeChildren( object ) ) {\r\n\r\n\t\t// @TODO: Think about implement NodeArray and NodeObject.\r\n\r\n\t\tlet childCacheKey = getCacheKey( childNode );\r\n\t\tif ( ! childCacheKey.includes( ',' ) ) childCacheKey = childCacheKey.slice( childCacheKey.indexOf( '\"' ), childCacheKey.indexOf( '}' ) );\r\n\t\tcacheKey += `,${ property }${ index !== undefined ? '/' + index : '' }:${ childCacheKey }`;\r\n\r\n\t}\r\n\r\n\tcacheKey += '}';\r\n\r\n\treturn cacheKey;\r\n\r\n}\r\n\r\nexport function* getNodeChildren( node, toJSON = false ) {\r\n\r\n\tfor ( const property in node ) {\r\n\r\n\t\t// Ignore private properties.\r\n\t\tif ( property.startsWith( '_' ) === true ) continue;\r\n\r\n\t\tconst object = node[ property ];\r\n\r\n\t\tif ( Array.isArray( object ) === true ) {\r\n\r\n\t\t\tfor ( let i = 0; i < object.length; i ++ ) {\r\n\r\n\t\t\t\tconst child = object[ i ];\r\n\r\n\t\t\t\tif ( child && ( child.isNode === true || toJSON && typeof child.toJSON === 'function' ) ) {\r\n\r\n\t\t\t\t\tyield { property, index: i, childNode: child };\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( object && object.isNode === true ) {\r\n\r\n\t\t\tyield { property, childNode: object };\r\n\r\n\t\t} else if ( typeof object === 'object' ) {\r\n\r\n\t\t\tfor ( const subProperty in object ) {\r\n\r\n\t\t\t\tconst child = object[ subProperty ];\r\n\r\n\t\t\t\tif ( child && ( child.isNode === true || toJSON && typeof child.toJSON === 'function' ) ) {\r\n\r\n\t\t\t\t\tyield { property, index: subProperty, childNode: child };\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport function getValueType( value ) {\r\n\r\n\tif ( value === undefined || value === null ) return null;\r\n\r\n\tconst typeOf = typeof value;\r\n\r\n\tif ( value.isNode === true ) {\r\n\r\n\t\treturn 'node';\r\n\r\n\t} else if ( typeOf === 'number' ) {\r\n\r\n\t\treturn 'float';\r\n\r\n\t} else if ( typeOf === 'boolean' ) {\r\n\r\n\t\treturn 'bool';\r\n\r\n\t} else if ( typeOf === 'string' ) {\r\n\r\n\t\treturn 'string';\r\n\r\n\t} else if ( typeOf === 'function' ) {\r\n\r\n\t\treturn 'shader';\r\n\r\n\t} else if ( value.isVector2 === true ) {\r\n\r\n\t\treturn 'vec2';\r\n\r\n\t} else if ( value.isVector3 === true ) {\r\n\r\n\t\treturn 'vec3';\r\n\r\n\t} else if ( value.isVector4 === true ) {\r\n\r\n\t\treturn 'vec4';\r\n\r\n\t} else if ( value.isMatrix3 === true ) {\r\n\r\n\t\treturn 'mat3';\r\n\r\n\t} else if ( value.isMatrix4 === true ) {\r\n\r\n\t\treturn 'mat4';\r\n\r\n\t} else if ( value.isColor === true ) {\r\n\r\n\t\treturn 'color';\r\n\r\n\t} else if ( value instanceof ArrayBuffer ) {\r\n\r\n\t\treturn 'ArrayBuffer';\r\n\r\n\t}\r\n\r\n\treturn null;\r\n\r\n}\r\n\r\nexport function getValueFromType( type, ...params ) {\r\n\r\n\tconst last4 = type ? type.slice( - 4 ) : undefined;\r\n\r\n\tif ( ( last4 === 'vec2' || last4 === 'vec3' || last4 === 'vec4' ) && params.length === 1 ) { // ensure same behaviour as in NodeBuilder.format()\r\n\r\n\t\tparams = last4 === 'vec2' ? [ params[ 0 ], params[ 0 ] ] : [ params[ 0 ], params[ 0 ], params[ 0 ] ];\r\n\r\n\t}\r\n\r\n\tif ( type === 'color' ) {\r\n\r\n\t\treturn new Color( ...params );\r\n\r\n\t} else if ( last4 === 'vec2' ) {\r\n\r\n\t\treturn new Vector2( ...params );\r\n\r\n\t} else if ( last4 === 'vec3' ) {\r\n\r\n\t\treturn new Vector3( ...params );\r\n\r\n\t} else if ( last4 === 'vec4' ) {\r\n\r\n\t\treturn new Vector4( ...params );\r\n\r\n\t} else if ( last4 === 'mat3' ) {\r\n\r\n\t\treturn new Matrix3( ...params );\r\n\r\n\t} else if ( last4 === 'mat4' ) {\r\n\r\n\t\treturn new Matrix4( ...params );\r\n\r\n\t} else if ( type === 'bool' ) {\r\n\r\n\t\treturn params[ 0 ] || false;\r\n\r\n\t} else if ( ( type === 'float' ) || ( type === 'int' ) || ( type === 'uint' ) ) {\r\n\r\n\t\treturn params[ 0 ] || 0;\r\n\r\n\t} else if ( type === 'string' ) {\r\n\r\n\t\treturn params[ 0 ] || '';\r\n\r\n\t} else if ( type === 'ArrayBuffer' ) {\r\n\r\n\t\treturn base64ToArrayBuffer( params[ 0 ] );\r\n\r\n\t}\r\n\r\n\treturn null;\r\n\r\n}\r\n\r\nexport function arrayBufferToBase64( arrayBuffer ) {\r\n\r\n\tlet chars = '';\r\n\r\n\tconst array = new Uint8Array( arrayBuffer );\r\n\r\n\tfor ( let i = 0; i < array.length; i ++ ) {\r\n\r\n\t\tchars += String.fromCharCode( array[ i ] );\r\n\r\n\t}\r\n\r\n\treturn btoa( chars );\r\n\r\n}\r\n\r\nexport function base64ToArrayBuffer( base64 ) {\r\n\r\n\treturn Uint8Array.from( atob( base64 ), c => c.charCodeAt( 0 ) ).buffer;\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}